<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Ren Atmo - デジタルアーティストのポートフォリオサイト">
  <meta property="og:title" content="Ren Atmo - Portfolio">
  <meta property="og:description" content="Ren Atmoのアート作品ポートフォリオをご覧ください">
  <meta property="og:type" content="website">
  <title>Ren Atmo - Portfolio</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    /* ベースリセット */
    * {
      margin: 0; 
      padding: 0; 
      box-sizing: border-box;
    }
    
    :root {
      --primary-color: #0af;
      --bg-dark: #000;
      --bg-dark-light: #111;
      --bg-card: #222;
      --text-light: #fff;
      --text-muted: #ccc;
      --transition: all 0.3s ease;
    }
    
    body {
      background: var(--bg-dark);
      color: var(--text-light);
      font-family: 'Helvetica Neue', Arial, sans-serif;
      line-height: 1.6;
      overflow-x: hidden;
      scroll-behavior: smooth;
    }

    /* アクセシビリティとフォーカス */
    a:focus, button:focus {
      outline: 2px solid var(--primary-color);
      outline-offset: 3px;
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border-width: 0;
    }

    /* ヘッダーとナビゲーション */
    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      padding: 1rem 2rem;
      z-index: 1000;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(5px);
      transition: var(--transition);
    }

    .logo {
      font-size: 1.5rem;
      font-weight: bold;
      letter-spacing: 2px;
      color: var(--text-light);
      text-decoration: none;
    }

    nav ul {
      display: flex;
      list-style: none;
    }

    nav ul li {
      margin-left: 2rem;
    }

    nav ul li a {
      color: var(--text-light);
      text-decoration: none;
      font-size: 1rem;
      letter-spacing: 1px;
      transition: var(--transition);
      position: relative;
    }

    nav ul li a::after {
      content: '';
      position: absolute;
      width: 0;
      height: 2px;
      bottom: -5px;
      left: 0;
      background-color: var(--primary-color);
      transition: var(--transition);
    }

    nav ul li a:hover::after {
      width: 100%;
    }

    .mobile-menu-btn {
      display: none;
      background: none;
      border: none;
      color: var(--text-light);
      font-size: 1.5rem;
      cursor: pointer;
    }

    /* グリッチテキストアニメーション - 強化版 */
    .glitch {
      position: relative;
      font-size: 4rem;
      text-transform: uppercase;
      letter-spacing: 3px;
      display: inline-block;
      animation: glitch 2.5s infinite;
      font-weight: 800;
      text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.5);
    }

    @keyframes glitch {
      0% {
        text-shadow: 2px 0 red, -2px 0 blue;
      }
      20% {
        text-shadow: -2px 0 red, 2px 0 blue;
      }
      40% {
        text-shadow: 2px 0 red, -2px 0 blue;
      }
      60% {
        text-shadow: -2px 0 red, 2px 0 blue;
      }
      80% {
        text-shadow: 2px 0 red, -2px 0 blue;
      }
      100% {
        text-shadow: -2px 0 red, 2px 0 blue;
      }
    }

    /* 各セクション共通スタイル */
    section {
      min-height: 100vh;
      width: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 8vh 5vw;
      position: relative;
    }

    .section-title {
      margin-bottom: 2rem;
      font-size: 2.5rem;
      text-transform: uppercase;
      letter-spacing: 2px;
      position: relative;
      padding-bottom: 1rem;
    }

    .section-title::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 3px;
      background: var(--primary-color);
    }

    /* Heroセクション */
    #hero {
      background: url("data:image/svg+xml,%3Csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3ClinearGradient id='a' gradientUnits='userSpaceOnUse' x1='0' x2='0' y1='0' y2='100%25' gradientTransform='rotate(240)'%3E%3Cstop offset='0' stop-color='%23000000'/%3E%3Cstop offset='1' stop-color='%23222222'/%3E%3C/linearGradient%3E%3Cpattern patternUnits='userSpaceOnUse' id='b' width='540' height='450' x='0' y='0' viewBox='0 0 1080 900'%3E%3Cg fill-opacity='0.05'%3E%3Cpolygon fill='%23444' points='90 150 0 300 180 300'/%3E%3Cpolygon points='90 150 180 0 0 0'/%3E%3Cpolygon fill='%23AAA' points='270 150 360 0 180 0'/%3E%3Cpolygon fill='%23DDD' points='450 150 360 300 540 300'/%3E%3Cpolygon fill='%23999' points='450 150 540 0 360 0'/%3E%3Cpolygon points='630 150 540 300 720 300'/%3E%3Cpolygon fill='%23DDD' points='630 150 720 0 540 0'/%3E%3Cpolygon fill='%23444' points='810 150 720 300 900 300'/%3E%3Cpolygon fill='%23FFF' points='810 150 900 0 720 0'/%3E%3Cpolygon fill='%23DDD' points='990 150 900 300 1080 300'/%3E%3Cpolygon fill='%23444' points='990 150 1080 0 900 0'/%3E%3Cpolygon fill='%23DDD' points='90 450 0 600 180 600'/%3E%3Cpolygon points='90 450 180 300 0 300'/%3E%3Cpolygon fill='%23666' points='270 450 180 600 360 600'/%3E%3Cpolygon fill='%23AAA' points='270 450 360 300 180 300'/%3E%3Cpolygon fill='%23DDD' points='450 450 360 600 540 600'/%3E%3Cpolygon fill='%23999' points='450 450 540 300 360 300'/%3E%3Cpolygon fill='%23999' points='630 450 540 600 720 600'/%3E%3Cpolygon fill='%23FFF' points='630 450 720 300 540 300'/%3E%3Cpolygon points='810 450 720 600 900 600'/%3E%3Cpolygon fill='%23DDD' points='810 450 900 300 720 300'/%3E%3Cpolygon fill='%23AAA' points='990 450 900 600 1080 600'/%3E%3Cpolygon fill='%23444' points='990 450 1080 300 900 300'/%3E%3Cpolygon fill='%23222' points='90 750 0 900 180 900'/%3E%3Cpolygon points='270 750 180 900 360 900'/%3E%3Cpolygon fill='%23DDD' points='270 750 360 600 180 600'/%3E%3Cpolygon points='450 750 540 600 360 600'/%3E%3Cpolygon points='630 750 540 900 720 900'/%3E%3Cpolygon fill='%23444' points='630 750 720 600 540 600'/%3E%3Cpolygon fill='%23AAA' points='810 750 720 900 900 900'/%3E%3Cpolygon fill='%23666' points='810 750 900 600 720 600'/%3E%3Cpolygon fill='%23999' points='990 750 900 900 1080 900'/%3E%3Cpolygon fill='%23999' points='180 0 90 150 270 150'/%3E%3Cpolygon fill='%23444' points='360 0 270 150 450 150'/%3E%3Cpolygon fill='%23FFF' points='540 0 450 150 630 150'/%3E%3Cpolygon points='900 0 810 150 990 150'/%3E%3Cpolygon fill='%23222' points='0 300 -90 450 90 450'/%3E%3Cpolygon fill='%23FFF' points='0 300 90 150 -90 150'/%3E%3Cpolygon fill='%23FFF' points='180 300 90 450 270 450'/%3E%3Cpolygon fill='%23666' points='180 300 270 150 90 150'/%3E%3Cpolygon fill='%23222' points='360 300 270 450 450 450'/%3E%3Cpolygon fill='%23FFF' points='360 300 450 150 270 150'/%3E%3Cpolygon fill='%23444' points='540 300 450 450 630 450'/%3E%3Cpolygon fill='%23222' points='540 300 630 150 450 150'/%3E%3Cpolygon fill='%23AAA' points='720 300 630 450 810 450'/%3E%3Cpolygon fill='%23666' points='720 300 810 150 630 150'/%3E%3Cpolygon fill='%23FFF' points='900 300 810 450 990 450'/%3E%3Cpolygon fill='%23999' points='900 300 990 150 810 150'/%3E%3Cpolygon points='0 600 -90 750 90 750'/%3E%3Cpolygon fill='%23666' points='0 600 90 450 -90 450'/%3E%3Cpolygon fill='%23AAA' points='180 600 90 750 270 750'/%3E%3Cpolygon fill='%23444' points='180 600 270 450 90 450'/%3E%3Cpolygon fill='%23444' points='360 600 270 750 450 750'/%3E%3Cpolygon fill='%23999' points='360 600 450 450 270 450'/%3E%3Cpolygon fill='%23666' points='540 600 630 450 450 450'/%3E%3Cpolygon fill='%23222' points='720 600 630 750 810 750'/%3E%3Cpolygon fill='%23FFF' points='900 600 810 750 990 750'/%3E%3Cpolygon fill='%23222' points='900 600 990 450 810 450'/%3E%3Cpolygon fill='%23DDD' points='0 900 90 750 -90 750'/%3E%3Cpolygon fill='%23444' points='180 900 270 750 90 750'/%3E%3Cpolygon fill='%23FFF' points='360 900 450 750 270 750'/%3E%3Cpolygon fill='%23AAA' points='540 900 630 750 450 750'/%3E%3Cpolygon fill='%23FFF' points='720 900 810 750 630 750'/%3E%3Cpolygon fill='%23222' points='900 900 990 750 810 750'/%3E%3Cpolygon fill='%23222' points='1080 300 990 450 1170 450'/%3E%3Cpolygon fill='%23FFF' points='1080 300 1170 150 990 150'/%3E%3Cpolygon points='1080 600 990 750 1170 750'/%3E%3Cpolygon fill='%23666' points='1080 600 1170 450 990 450'/%3E%3Cpolygon fill='%23DDD' points='1080 900 1170 750 990 750'/%3E%3C/g%3E%3C/pattern%3E%3C/defs%3E%3Crect x='0' y='0' fill='url(%23a)' width='100%25' height='100%25'/%3E%3Crect x='0' y='0' fill='url(%23b)' width='100%25' height='100%25'/%3E%3C/svg%3E") center/cover no-repeat;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
    }

    #hero::before {
      content: "";
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.4);
    }

    .hero-content {
      position: relative;
      z-index: 1;
    }

    .hero-subtitle {
      font-size: 1.5rem;
      margin-top: 1rem;
      opacity: 0.8;
      max-width: 600px;
    }

    .scroll-down {
      position: absolute;
      bottom: 2rem;
      left: 50%;
      transform: translateX(-50%);
      font-size: 2rem;
      color: var(--text-light);
      animation: bounce 2s infinite;
      cursor: pointer;
    }

    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% {
        transform: translateY(0) translateX(-50%);
      }
      40% {
        transform: translateY(-30px) translateX(-50%);
      }
      60% {
        transform: translateY(-15px) translateX(-50%);
      }
    }

    /* Aboutセクション */
    #about {
      background-color: var(--bg-dark-light);
    }

    .about-content {
      display: flex;
      gap: 3rem;
      max-width: 1000px;
      margin: 0 auto;
    }

    .about-image {
      flex: 1;
      border-radius: 5px;
      overflow: hidden;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
    }

    .about-image img {
      width: 100%;
      height: auto;
      display: block;
      transition: var(--transition);
    }

    .about-text {
      flex: 1;
    }

    .about-text p {
      margin-bottom: 1rem;
      font-size: 1.1rem;
    }

    .skill-list {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: 1.5rem;
    }

    .skill-tag {
      padding: 0.5rem 1rem;
      background-color: rgba(0, 170, 255, 0.1);
      border: 1px solid var(--primary-color);
      border-radius: 20px;
      font-size: 0.9rem;
    }

    /* 作品セクション */
    #works {
      background-color: var(--bg-dark);
      position: relative;
    }

    .filter-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .filter-btn {
      padding: 0.5rem 1.5rem;
      background: transparent;
      border: 1px solid var(--text-muted);
      color: var(--text-light);
      border-radius: 25px;
      cursor: pointer;
      transition: var(--transition);
    }

    .filter-btn:hover, .filter-btn.active {
      background-color: var(--primary-color);
      border-color: var(--primary-color);
    }

    #gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 25px;
      width: 100%;
      max-width: 1200px;
    }

    .item {
      background: var(--bg-card);
      border-radius: 5px;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      transition: var(--transition);
      position: relative;
    }

    .item:hover {
      transform: translateY(-10px);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
    }

    .item-image {
      position: relative;
      overflow: hidden;
      aspect-ratio: 16/9;
    }

    .item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: var(--transition);
    }

    .item:hover img {
      transform: scale(1.1);
    }

    .item-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      display: flex;
      justify-content: center;
      align-items: center;
      opacity: 0;
      transition: var(--transition);
    }

    .item:hover .item-overlay {
      opacity: 1;
    }

    .view-btn {
      padding: 0.7rem 1.5rem;
      background: var(--primary-color);
      color: white;
      border: none;
      border-radius: 25px;
      font-weight: bold;
      cursor: pointer;
      transition: var(--transition);
    }

    .view-btn:hover {
      background: white;
      color: var(--primary-color);
    }

    .item-info {
      padding: 1.5rem;
    }

    .item h3 {
      margin-bottom: 0.5rem;
      font-size: 1.2rem;
    }

    .item p {
      color: var(--text-muted);
      line-height: 1.5;
      font-size: 0.95rem;
    }

    .item-category {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: var(--primary-color);
      color: white;
      padding: 0.3rem 0.8rem;
      border-radius: 15px;
      font-size: 0.8rem;
      z-index: 1;
    }

    /* ローディングスピナー */
    .loading-spinner {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100px;
    }

    .spinner {
      width: 40px;
      height: 40px;
      border: 4px solid rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      border-top: 4px solid var(--primary-color);
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* コンタクトセクション */
    #contact {
      background-color: var(--bg-dark-light);
      text-align: center;
    }

    .contact-container {
      max-width: 800px;
      width: 100%;
    }

    .contact-info {
      margin-bottom: 2rem;
    }

    .contact-info p {
      margin: 0.5rem 0;
      font-size: 1.2rem;
    }

    .contact-info a {
      color: var(--primary-color);
      text-decoration: none;
      transition: var(--transition);
    }

    .contact-info a:hover {
      text-decoration: underline;
    }

    .social-links {
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      margin-top: 2rem;
    }

    .social-icon {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      background: var(--bg-card);
      color: var(--text-light);
      font-size: 1.5rem;
      transition: var(--transition);
    }

    .social-icon:hover {
      background: var(--primary-color);
      transform: translateY(-5px);
    }

    /* フッター */
    footer {
      padding: 2rem;
      text-align: center;
      background-color: var(--bg-dark);
      border-top: 1px solid #333;
    }

    .footer-text {
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    /* モーダル */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.9);
      z-index: 2000;
      overflow-y: auto;
      padding: 50px 0;
    }

    .modal-content {
      max-width: 800px;
      margin: 0 auto;
      background-color: var(--bg-card);
      border-radius: 5px;
      overflow: hidden;
      position: relative;
      animation: modalFadeIn 0.3s ease;
    }

    @keyframes modalFadeIn {
      from { opacity: 0; transform: translateY(-50px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .modal-close {
      position: absolute;
      top: 1rem;
      right: 1rem;
      font-size: 2rem;
      color: white;
      cursor: pointer;
      z-index: 2001;
    }

    .modal-header {
      padding: 2rem;
    }

    .modal-title {
      font-size: 2rem;
      margin-bottom: 1rem;
    }

    .modal-category {
      display: inline-block;
      background: var(--primary-color);
      color: white;
      padding: 0.4rem 1rem;
      border-radius: 20px;
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }

    .modal-image {
      width: 100%;
      height: auto;
    }

    .modal-body {
      padding: 0 2rem 2rem;
    }

    .modal-description {
      line-height: 1.8;
      margin-bottom: 2rem;
    }

    /* レスポンシブデザイン */
    @media (max-width: 992px) {
      .about-content {
        flex-direction: column;
      }
      
      .glitch {
        font-size: 3.5rem;
      }
      
      #gallery {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      }
    }

    @media (max-width: 768px) {
      .mobile-menu-btn {
        display: block;
      }
      
      nav ul {
        position: fixed;
        top: 70px;
        left: 0;
        width: 100%;
        background: rgba(0, 0, 0, 0.9);
        flex-direction: column;
        align-items: center;
        padding: 2rem 0;
        clip-path: polygon(0 0, 100% 0, 100% 0, 0 0);
        transition: var(--transition);
      }
      
      nav ul.active {
        clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
      }
      
      nav ul li {
        margin: 1rem 0;
      }
      
      .glitch {
        font-size: 3rem;
      }
      
      .section-title {
        font-size: 2rem;
      }
      
      #gallery {
        grid-template-columns: repeat(auto-fill, minmax(100%, 1fr));
      }
    }

    @media (max-width: 480px) {
      .glitch {
        font-size: 2.5rem;
      }
      
      .hero-subtitle {
        font-size: 1rem;
      }
      
      .section-title {
        font-size: 1.8rem;
      }
      
      .modal-content {
        width: 95%;
      }
    }
  </style>
</head>
<body>
  <!-- ヘッダー & ナビゲーション -->
  <header id="navbar">
    <a href="#hero" class="logo">REN ATMO</a>
    <button class="mobile-menu-btn" aria-label="メニューを開く">
      <i class="fas fa-bars"></i>
    </button>
    <nav>
      <ul id="nav-menu">
        <li><a href="#about">About</a></li>
        <li><a href="#works">Works</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
    </nav>
  </header>

  <!-- Heroセクション -->
  <section id="hero">
    <div class="hero-content">
      <h1 class="glitch">REN ATMO</h1>
      <p class="hero-subtitle">ARTIST</p>
    </div>
    <a href="#about" class="scroll-down" aria-label="下にスクロール">
      <i class="fas fa-chevron-down"></i>
    </a>
  </section>

  <!-- Aboutセクション -->
  <section id="about">
    <h2 class="section-title">About</h2>
    <div class="about-content">
      <div class="about-image">
        <img id="profile-image" src="https://ren-atomo.github.io/about/me.jpg" alt="Ren Atmoのプロフィール写真">
      </div>
      <div class="about-text">
        <p>東京在住のアーティスト。視覚芸術を通じて社会や自然との関係性を探求。写真、CG制作、VJ、イベント企画など多様な表現手法を用いて創作活動を展開。</p>
        <div class="skill-list">
          <span class="skill-tag">Picture</span>
          <span class="skill-tag">CG</span>
          <span class="skill-tag">VJ</span>
          <span class="skill-tag">Event</span>
        </div>
      </div>
    </div>
  </section>

  <!-- 作品セクション -->
  <section id="works">
    <h2 class="section-title">Works</h2>
    <div class="filter-container">
                <button class="filter-btn active" data-filter="all">ALL</button>
      <button class="filter-btn" data-filter="picture">PICTURE</button>
      <button class="filter-btn" data-filter="cg">CG</button>
      <button class="filter-btn" data-filter="vj">VJ</button>
      <button class="filter-btn" data-filter="event">EVENT</button>
    </div>
    
    <div id="loading" class="loading-spinner">
      <div class="spinner"></div>
    </div>
    
    <div id="gallery"></div>
  </section>

  <!-- コンタクトセクション -->
  <section id="contact">
    <h2 class="section-title">Contact</h2>
    <div class="contact-container">
      <div class="contact-info">
        <p><a href="mailto:tsutsumi.atomo@gmail.com">tsutsumi.atomo@gmail.com</a></p>
      </div>
      <div class="social-links">
        <a href="https://www.instagram.com/ren_atmo" target="_blank" class="social-icon" aria-label="Instagram">
          <i class="fab fa-instagram"></i>
        </a>
      </div>
    </div>
  </section>

  <!-- フッター -->
  <footer>
    <p class="footer-text">&copy; 2025 Ren Atmo</p>
  </footer>
  
  <!-- 作品詳細モーダル -->
  <div id="workModal" class="modal">
    <span class="modal-close">&times;</span>
    <div class="modal-content">
      <img id="modalImage" class="modal-image" src="" alt="">
      <div class="modal-header">
        <span id="modalCategory" class="modal-category"></span>
        <h3 id="modalTitle" class="modal-title"></h3>
      </div>
      <div class="modal-body">
        <p id="modalDescription" class="modal-description"></p>
      </div>
    </div>
  </div>

  <!-- JavaScript -->
  <script>

    
    // ナビゲーション関連
    const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
    const navMenu = document.getElementById('nav-menu');
    const navLinks = document.querySelectorAll('nav ul li a');
    const navbar = document.getElementById('navbar');
    
    // モバイルメニュートグル
    mobileMenuBtn.addEventListener('click', () => {
      navMenu.classList.toggle('active');
    });
    
    // スクロール時のナビゲーション背景変更
    window.addEventListener('scroll', () => {
      if (window.scrollY > 100) {
        navbar.style.padding = '0.7rem 2rem';
        navbar.style.boxShadow = '0 5px 20px rgba(0, 0, 0, 0.1)';
      } else {
        navbar.style.padding = '1rem 2rem';
        navbar.style.boxShadow = 'none';
      }
    });

    // スムーズスクロール
    navLinks.forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        
        // モバイルメニューを閉じる
        navMenu.classList.remove('active');
        
        const targetId = this.getAttribute('href');
        const targetSection = document.querySelector(targetId);
        
        window.scrollTo({
          top: targetSection.offsetTop,
          behavior: 'smooth'
        });
      });
    });

    // スクロールダウンボタン
    document.querySelector('.scroll-down').addEventListener('click', function(e) {
      e.preventDefault();
      const aboutSection = document.querySelector('#about');
      
      window.scrollTo({
        top: aboutSection.offsetTop,
        behavior: 'smooth'
      });
    });

    // モーダル制御
    const modal = document.getElementById('workModal');
    const modalClose = document.querySelector('.modal-close');
    const modalImage = document.getElementById('modalImage');
    const modalTitle = document.getElementById('modalTitle');
    const modalCategory = document.getElementById('modalCategory');
    const modalDescription = document.getElementById('modalDescription');
    
    // モーダルを閉じる
    modalClose.addEventListener('click', () => {
      modal.style.display = 'none';
      document.body.style.overflow = 'auto';
    });
    
    // モーダルの外側をクリックして閉じる
    window.addEventListener('click', (e) => {
      if (e.target === modal) {
        modal.style.display = 'none';
        document.body.style.overflow = 'auto';
      }
    });

    // カテゴリーフィルター
    const filterBtns = document.querySelectorAll('.filter-btn');
    let currentFilter = 'all';
    
    filterBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        // アクティブクラスの切り替え
        filterBtns.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        
        // フィルター値を取得
        currentFilter = btn.getAttribute('data-filter');
        
        // アイテムをフィルタリング
        filterItems();
      });
    });
    
    function filterItems() {
      const items = document.querySelectorAll('.item');
      
      items.forEach(item => {
        const category = item.getAttribute('data-category');
        
        if (currentFilter === 'all' || category === currentFilter) {
          item.style.display = 'block';
        } else {
          item.style.display = 'none';
        }
      });
    }

    // Google Sheets からデータを取得
    const sheetID = "1l4pruAVBkSDdCn1DlW4NIR9oU9D9_29rtaFtlCo138A";
    const url = `https://docs.google.com/spreadsheets/d/${sheetID}/gviz/tq?tqx=out:json`;
    const loading = document.getElementById('loading');

    // カテゴリマッピング
    const categoryMap = {
      'picture': 'PICTURE',
      'cg': 'CG',
      'vj': 'VJ',
      'event': 'EVENT'
    };

    fetch(url)
      .then(res => res.text())
      .then(data => {
        // ローディング表示を非表示
        loading.style.display = 'none';
        
        try {
          // JSONをパース（Google Visualization形式のため、前後を削る）
          const json = JSON.parse(data.substr(47).slice(0, -2));
          const rows = json.table.rows;
          let html = "";

          // シートの構成: [0]=ID, [1]=作品タイトル, [2]=説明, [3]=画像URL, [4]=カテゴリー
          console.log("Loaded rows:", rows.length);
          console.log("Categories detected:", [...new Set(rows.map(row => row.c[4]?.v))]);

          rows.forEach(row => {
            const id = row.c[0]?.v || Date.now();
            const title = row.c[1]?.v || "No Title";
            const desc = row.c[2]?.v || "";
            const img = row.c[3]?.v || "/api/placeholder/400/320";
            // カテゴリーの設定（ない場合はデフォルトでpicture）
            const category = row.c[4]?.v || "picture";
            const categoryDisplay = categoryMap[category] || 'PICTURE';

            html += `
              <div class="item" data-id="${id}" data-category="${category}">
                <span class="item-category">${categoryDisplay}</span>
                <div class="item-image">
                  <img src="${img}" alt="${title}" loading="lazy">
                  <div class="item-overlay">
                    <button class="view-btn">詳細を見る</button>
                  </div>
                </div>
                <div class="item-info">
                  <h3>${title}</h3>
                  <p>${desc.length > 100 ? desc.substring(0, 97) + '...' : desc}</p>
                </div>
              </div>
            `;
          });

          document.getElementById("gallery").innerHTML = html;
          
          // 作品詳細モーダルの設定
          const viewBtns = document.querySelectorAll('.view-btn');
          
          viewBtns.forEach(btn => {
            btn.addEventListener('click', () => {
              const item = btn.closest('.item');
              const id = item.getAttribute('data-id');
              const img = item.querySelector('img').src;
              const title = item.querySelector('h3').textContent;
              const category = item.getAttribute('data-category');
              const categoryDisplay = categoryMap[category] || 'PICTURE';
              
              // 説明文を取得（省略されていない完全なもの）
              const description = rows.find(row => row.c[0]?.v == id)?.c[2]?.v || "";
              
              // モーダルを設定
              modalImage.src = img;
              modalImage.alt = title;
              modalTitle.textContent = title;
              modalCategory.textContent = categoryDisplay;
              modalDescription.textContent = description;
              
              // モーダルを表示
              modal.style.display = 'block';
              document.body.style.overflow = 'hidden';
            });
          });
          
          // 初期フィルタリング
          filterItems();
        } catch (error) {
          console.error("データ解析エラー:", error);
          document.getElementById("gallery").innerHTML = `
            <div style="text-align: center; width: 100%;">
              <p>データの読み込みに問題が発生しました。後でもう一度お試しください。</p>
            </div>
          `;
        }
      })
      .catch(err => {
        loading.style.display = 'none';
        console.error("Sheetsデータ取得エラー:", err);
        document.getElementById("gallery").innerHTML = `
          <div style="text-align: center; width: 100%;">
            <p>データの読み込みに問題が発生しました。インターネット接続を確認して、再度お試しください。</p>
          </div>
        `;
      });

    // アクセシビリティ対応：Escキーでモーダルを閉じる
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && modal.style.display === 'block') {
        modal.style.display = 'none';
        document.body.style.overflow = 'auto';
      }
    });
  </script>
</body>
</html>
